# Migration `20200423104846-fix-sid-on-address`

This migration has been generated by Daniel Wallace at 4/23/2020, 10:48:46 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."address" DROP COLUMN "shippoId",
ADD COLUMN "shippo_id" text  NOT NULL ;

ALTER TABLE "public"."address_history" ALTER COLUMN "action" SET DEFAULT 'CREATED';

ALTER TABLE "public"."inventory" ALTER COLUMN "condition" SET DEFAULT 'NEW',
ALTER COLUMN "status" SET DEFAULT 'NEW';

ALTER TABLE "public"."shipment" ALTER COLUMN "direction" SET DEFAULT 'OUTBOUND',
ALTER COLUMN "status" SET DEFAULT 'PRETRANSIT',
ALTER COLUMN "type" SET DEFAULT 'ACCESS';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200423104642-test..20200423104846-fix-sid-on-address
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -145,9 +145,9 @@
 }
 model Address {
   id          String           @default(uuid()) @id
-  shippoId    String
+  shippoId    String           @map("shippo_id")
   street1     String
   street2     String?
   city        String
   state       String
```


