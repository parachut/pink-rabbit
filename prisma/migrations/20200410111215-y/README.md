# Migration `20200410111215-y`

This migration has been generated by Daniel Wallace at 4/10/2020, 11:12:15 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."bin" ADD COLUMN "warehouse_id" text  NOT NULL ;

ALTER TABLE "public"."product" ALTER COLUMN "price" SET DEFAULT 0;

ALTER TABLE "public"."bin" ADD FOREIGN KEY ("warehouse_id")REFERENCES "public"."warehouse"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200410085121-h..20200410111215-y
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -42,9 +42,9 @@
   depth       Float?
   weight      Float?
   images      String[]
   mfr         String?
-  price       Float
+  price       Float       @default(0)
   popularity  Int         @default(0)
   demand      Int         @default(0)
   released    DateTime?
   elasticId   String?     @map("elastic_id")
@@ -108,18 +108,20 @@
   @@map("inventory")
 }
 model Bin {
-  id        String        @default(uuid()) @id
-  cell      Int
-  column    Int
-  row       Int
-  location  Int
-  width     Float
-  height    Float
-  created   DateTime      @default(now())
-  freeNodes BinFreeNode[]
-  inventory Inventory[]
+  id          String        @default(uuid()) @id
+  cell        Int
+  column      Int
+  row         Int
+  location    Int
+  width       Float
+  height      Float
+  created     DateTime      @default(now())
+  freeNodes   BinFreeNode[]
+  warehouse   Warehouse     @relation(fields: [warehouseId], references: [id])
+  warehouseId String        @map("warehouse_id")
+  inventory   Inventory[]
   @@map("bin")
 }
```


