# Migration `20200410123953-r`

This migration has been generated by Daniel Wallace at 4/10/2020, 12:39:53 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."order_item" (
    "created" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "id" text  NOT NULL ,
    "order_id" text  NOT NULL ,
    "product_id" text  NOT NULL ,
    "quantity" integer  NOT NULL DEFAULT 1,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."order_item" ADD FOREIGN KEY ("product_id")REFERENCES "public"."product"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."order_item" ADD FOREIGN KEY ("order_id")REFERENCES "public"."order"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200410123927-i..20200410123953-r
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -262,6 +262,6 @@
   order     Order    @relation(fields: [orderId], references: [id])
   orderId   String   @map("order_id")
   created   DateTime @default(now())
-  @@map("order")
+  @@map("order_item")
 }
```


